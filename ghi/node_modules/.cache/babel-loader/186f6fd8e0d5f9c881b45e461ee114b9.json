{"ast":null,"code":"import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\nexport const stupifyApi = createApi({\n  reducerPath: \"playlistApi\",\n  baseQuery: fetchBaseQuery({\n    baseUrl: process.env.REACT_APP_API_HOST\n  }),\n  tagTypes: [\"playlist\", \"songs\"],\n  endpoints: builder => ({\n    getAllPlaylist: builder.query({\n      query: () => ({\n        url: \"/api/playlists\",\n        credentials: \"include\"\n      }),\n      providesTags: [\"playlist\"] //Optional - transformResponse: (response) => response.playlists ... removes the playlists property from the data in so in the\n      // PlaylistList you can just do data.filter\n\n    }),\n    createPlaylist: builder.mutation({\n      query: data => ({\n        url: \"/api/playlists/\",\n        body: data,\n        method: \"POST\",\n        credentials: \"include\"\n      }),\n      invalidatesTags: [\"playlist\"]\n    }),\n    getSpecificPlaylist: builder.query({\n      query: playlist_id => ({\n        url: `/api/playlists/${playlist_id}`,\n        credentials: \"include\"\n      }),\n      providesTags: [\"playlist\"]\n    }),\n    deletePlaylist: builder.mutation({\n      query: playlist_id => ({\n        url: `/api/playlists/${playlist_id}`,\n        method: \"delete\",\n        credentials: \"include\"\n      }),\n      invalidatesTags: [\"playlist\"]\n    }),\n    updatePlaylist: builder.mutation({\n      query: data => ({\n        url: `/api/playlists/${data.playlist_id}`,\n        body: data,\n        method: \"PUT\",\n        credentials: \"include\"\n      }),\n      invalidatesTags: [\"playlist\"]\n    }),\n    deleteSong: builder.mutation({\n      query: data => ({\n        url: `/api/playlists/${data.playlist_id}/songs/${data.song_id}`,\n        body: data.song_id,\n        method: \"delete\",\n        credentials: \"include\"\n      }),\n      invalidatesTags: [\"songs\"]\n    }),\n    getAllSongsInPlaylist: builder.query({\n      query: playlist_id => ({\n        url: `/api/playlists/${playlist_id}/songs`,\n        credentials: \"include\"\n      }),\n      providesTags: [\"songs\"]\n    }),\n    createSongInPlaylist: builder.mutation({\n      query: data => ({\n        url: `/api/playlists/${data.playlist_id}/songs`,\n        body: data,\n        method: \"POST\",\n        credentials: \"include\"\n      }),\n      invalidatesTags: [\"playlist\"]\n    }),\n    searchSpotify: builder.query({\n      query: search => ({\n        url: `/api/spotify`,\n        params: search,\n        method: \"GET\"\n      })\n    }),\n    searchSpotifyGenre: builder.query({\n      query: data => ({\n        url: `/api/spotify/genres`,\n        body: data,\n        method: \"GET\"\n      })\n    }),\n    getAllGenre: builder.query({\n      query: () => `/api/spotify/allgenres`\n    }),\n    getSpotifyArtist: builder.query({\n      query: data => ({\n        url: `/api/spotify/artists/${data.id}`,\n        params: data,\n        method: \"GET\"\n      })\n    }),\n    getSpotifyAlbum: builder.query({\n      query: data => ({\n        url: `/api/spotify/albums/${data.id}`,\n        body: data,\n        method: \"GET\"\n      })\n    }),\n    getSpotifyTrack: builder.query({\n      query: data => ({\n        url: `/api/spotify/tracks/${data.id}`,\n        body: data,\n        method: \"GET\"\n      })\n    }),\n    getSpotifyRecommendations: builder.query({\n      query: data => ({\n        url: `/api/spotify/recommendations/`,\n        body: data,\n        method: \"GET\"\n      })\n    }),\n    getSpotifyRandom: builder.query({\n      query: () => `/api/spotify/random`\n    }),\n    getSpotifyRandomArtist: builder.query({\n      query: () => `/api/spotify/randomartists`\n    }),\n    getToken: builder.query({\n      query: () => ({\n        url: `/token`,\n        credentials: \"include\"\n      }),\n      transformResponse: response => (response === null || response === void 0 ? void 0 : response.account) || null,\n      providesTags: [\"Account\"]\n    }),\n    logout: builder.mutation({\n      query: () => ({\n        url: `/token`,\n        method: \"DELETE\",\n        credentials: \"include\"\n      }),\n      invalidatesTags: [\"Account\"]\n    }),\n    login: builder.mutation({\n      query: info => {\n        const formData = new FormData();\n        formData.append(\"username\", info.username);\n        formData.append(\"password\", info.password);\n        return {\n          url: \"/token\",\n          method: \"POST\",\n          body: formData,\n          credentials: \"include\"\n        };\n      },\n      invalidatesTags: [\"Account\"]\n    }),\n    signup: builder.mutation({\n      query: data => ({\n        url: `/api/accounts`,\n        body: data,\n        method: \"POST\",\n        credentials: \"include\"\n      }),\n      invalidatesTags: [\"Account\"]\n    })\n  })\n});\nexport const {\n  useGetTokenQuery,\n  useSignupMutation,\n  useLoginMutation,\n  useLogoutMutation,\n  useGetAllPlaylistQuery,\n  useCreatePlaylistMutation,\n  useGetSpecificPlaylistQuery,\n  useDeletePlaylistMutation,\n  useUpdatePlaylistMutation,\n  useDeleteSongMutation,\n  useGetAllSongsInPlaylistQuery,\n  useCreateSongInPlaylistMutation,\n  useSearchSpotifyQuery,\n  useSearchSpotifyGenreQuery,\n  useGetAllGenreQuery,\n  useGetSpotifyArtistQuery,\n  useGetSpotifyAlbumQuery,\n  useGetSpotifyTrackQuery,\n  useGetSpotifyRecommendationsQuery,\n  useGetSpotifyRandomQuery,\n  useGetSpotifyRandomArtistQuery\n} = stupifyApi;","map":{"version":3,"names":["createApi","fetchBaseQuery","stupifyApi","reducerPath","baseQuery","baseUrl","process","env","REACT_APP_API_HOST","tagTypes","endpoints","builder","getAllPlaylist","query","url","credentials","providesTags","createPlaylist","mutation","data","body","method","invalidatesTags","getSpecificPlaylist","playlist_id","deletePlaylist","updatePlaylist","deleteSong","song_id","getAllSongsInPlaylist","createSongInPlaylist","searchSpotify","search","params","searchSpotifyGenre","getAllGenre","getSpotifyArtist","id","getSpotifyAlbum","getSpotifyTrack","getSpotifyRecommendations","getSpotifyRandom","getSpotifyRandomArtist","getToken","transformResponse","response","account","logout","login","info","formData","FormData","append","username","password","signup","useGetTokenQuery","useSignupMutation","useLoginMutation","useLogoutMutation","useGetAllPlaylistQuery","useCreatePlaylistMutation","useGetSpecificPlaylistQuery","useDeletePlaylistMutation","useUpdatePlaylistMutation","useDeleteSongMutation","useGetAllSongsInPlaylistQuery","useCreateSongInPlaylistMutation","useSearchSpotifyQuery","useSearchSpotifyGenreQuery","useGetAllGenreQuery","useGetSpotifyArtistQuery","useGetSpotifyAlbumQuery","useGetSpotifyTrackQuery","useGetSpotifyRecommendationsQuery","useGetSpotifyRandomQuery","useGetSpotifyRandomArtistQuery"],"sources":["/app/src/app/apiSlice.js"],"sourcesContent":["import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\n\nexport const stupifyApi = createApi({\n  reducerPath: \"playlistApi\",\n  baseQuery: fetchBaseQuery({\n    baseUrl: process.env.REACT_APP_API_HOST,\n  }),\n  tagTypes: [\"playlist\", \"songs\"],\n  endpoints: (builder) => ({\n    getAllPlaylist: builder.query({\n      query: () => ({\n        url: \"/api/playlists\",\n        credentials: \"include\",\n      }),\n      providesTags: [\"playlist\"],\n      //Optional - transformResponse: (response) => response.playlists ... removes the playlists property from the data in so in the\n      // PlaylistList you can just do data.filter\n    }),\n    createPlaylist: builder.mutation({\n      query: (data) => ({\n        url: \"/api/playlists/\",\n        body: data,\n        method: \"POST\",\n        credentials: \"include\",\n      }),\n      invalidatesTags: [\"playlist\"],\n    }),\n    getSpecificPlaylist: builder.query({\n      query: (playlist_id) => ({\n        url: `/api/playlists/${playlist_id}`,\n        credentials: \"include\",\n      }),\n      providesTags: [\"playlist\"],\n    }),\n    deletePlaylist: builder.mutation({\n      query: (playlist_id) => ({\n        url: `/api/playlists/${playlist_id}`,\n        method: \"delete\",\n        credentials: \"include\",\n      }),\n      invalidatesTags: [\"playlist\"],\n    }),\n    updatePlaylist: builder.mutation({\n      query: (data) => ({\n        url: `/api/playlists/${data.playlist_id}`,\n        body: data,\n        method: \"PUT\",\n        credentials: \"include\",\n      }),\n      invalidatesTags: [\"playlist\"],\n    }),\n    deleteSong: builder.mutation({\n      query: (data) => ({\n        url: `/api/playlists/${data.playlist_id}/songs/${data.song_id}`,\n        body: data.song_id,\n        method: \"delete\",\n        credentials: \"include\",\n      }),\n      invalidatesTags: [\"songs\"],\n    }),\n    getAllSongsInPlaylist: builder.query({\n      query: (playlist_id) => ({\n        url: `/api/playlists/${playlist_id}/songs`,\n        credentials: \"include\",\n      }),\n      providesTags: [\"songs\"],\n    }),\n    createSongInPlaylist: builder.mutation({\n      query: (data) => ({\n        url: `/api/playlists/${data.playlist_id}/songs`,\n        body: data,\n        method: \"POST\",\n        credentials: \"include\",\n      }),\n      invalidatesTags: [\"playlist\"],\n    }),\n    searchSpotify: builder.query({\n      query: (search) => ({\n        url: `/api/spotify`,\n        params: search,\n        method: \"GET\",\n      }),\n    }),\n    searchSpotifyGenre: builder.query({\n      query: (data) => ({\n        url: `/api/spotify/genres`,\n        body: data,\n        method: \"GET\",\n      }),\n    }),\n    getAllGenre: builder.query({\n      query: () => `/api/spotify/allgenres`,\n    }),\n    getSpotifyArtist: builder.query({\n      query: (data) => ({\n        url: `/api/spotify/artists/${data.id}`,\n        params: data,\n        method: \"GET\",\n      }),\n    }),\n    getSpotifyAlbum: builder.query({\n      query: (data) => ({\n        url: `/api/spotify/albums/${data.id}`,\n        body: data,\n        method: \"GET\",\n      }),\n    }),\n    getSpotifyTrack: builder.query({\n      query: (data) => ({\n        url: `/api/spotify/tracks/${data.id}`,\n        body: data,\n        method: \"GET\",\n      }),\n    }),\n    getSpotifyRecommendations: builder.query({\n      query: (data) => ({\n        url: `/api/spotify/recommendations/`,\n        body: data,\n        method: \"GET\",\n      }),\n    }),\n    getSpotifyRandom: builder.query({\n      query: () => `/api/spotify/random`,\n    }),\n    getSpotifyRandomArtist: builder.query({\n      query: () => `/api/spotify/randomartists`,\n    }),\n    getToken: builder.query({\n      query: () => ({\n        url: `/token`,\n        credentials: \"include\",\n      }),\n      transformResponse: (response) => response?.account || null,\n      providesTags: [\"Account\"],\n    }),\n    logout: builder.mutation({\n      query: () => ({\n        url: `/token`,\n        method: \"DELETE\",\n        credentials: \"include\",\n      }),\n      invalidatesTags: [\"Account\"],\n    }),\n    login: builder.mutation({\n      query: (info) => {\n        const formData = new FormData();\n        formData.append(\"username\", info.username);\n        formData.append(\"password\", info.password);\n        return {\n          url: \"/token\",\n          method: \"POST\",\n          body: formData,\n          credentials: \"include\",\n        };\n      },\n      invalidatesTags: [\"Account\"],\n    }),\n    signup: builder.mutation({\n      query: (data) => ({\n        url: `/api/accounts`,\n        body: data,\n        method: \"POST\",\n        credentials: \"include\",\n      }),\n      invalidatesTags: [\"Account\"],\n    }),\n  }),\n});\n\nexport const {\n  useGetTokenQuery,\n  useSignupMutation,\n  useLoginMutation,\n  useLogoutMutation,\n  useGetAllPlaylistQuery,\n  useCreatePlaylistMutation,\n  useGetSpecificPlaylistQuery,\n  useDeletePlaylistMutation,\n  useUpdatePlaylistMutation,\n  useDeleteSongMutation,\n  useGetAllSongsInPlaylistQuery,\n  useCreateSongInPlaylistMutation,\n  useSearchSpotifyQuery,\n  useSearchSpotifyGenreQuery,\n  useGetAllGenreQuery,\n  useGetSpotifyArtistQuery,\n  useGetSpotifyAlbumQuery,\n  useGetSpotifyTrackQuery,\n  useGetSpotifyRecommendationsQuery,\n  useGetSpotifyRandomQuery,\n  useGetSpotifyRandomArtistQuery,\n} = stupifyApi;\n"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,cAApB,QAA0C,8BAA1C;AAEA,OAAO,MAAMC,UAAU,GAAGF,SAAS,CAAC;EAClCG,WAAW,EAAE,aADqB;EAElCC,SAAS,EAAEH,cAAc,CAAC;IACxBI,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC;EADG,CAAD,CAFS;EAKlCC,QAAQ,EAAE,CAAC,UAAD,EAAa,OAAb,CALwB;EAMlCC,SAAS,EAAGC,OAAD,KAAc;IACvBC,cAAc,EAAED,OAAO,CAACE,KAAR,CAAc;MAC5BA,KAAK,EAAE,OAAO;QACZC,GAAG,EAAE,gBADO;QAEZC,WAAW,EAAE;MAFD,CAAP,CADqB;MAK5BC,YAAY,EAAE,CAAC,UAAD,CALc,CAM5B;MACA;;IAP4B,CAAd,CADO;IAUvBC,cAAc,EAAEN,OAAO,CAACO,QAAR,CAAiB;MAC/BL,KAAK,EAAGM,IAAD,KAAW;QAChBL,GAAG,EAAE,iBADW;QAEhBM,IAAI,EAAED,IAFU;QAGhBE,MAAM,EAAE,MAHQ;QAIhBN,WAAW,EAAE;MAJG,CAAX,CADwB;MAO/BO,eAAe,EAAE,CAAC,UAAD;IAPc,CAAjB,CAVO;IAmBvBC,mBAAmB,EAAEZ,OAAO,CAACE,KAAR,CAAc;MACjCA,KAAK,EAAGW,WAAD,KAAkB;QACvBV,GAAG,EAAG,kBAAiBU,WAAY,EADZ;QAEvBT,WAAW,EAAE;MAFU,CAAlB,CAD0B;MAKjCC,YAAY,EAAE,CAAC,UAAD;IALmB,CAAd,CAnBE;IA0BvBS,cAAc,EAAEd,OAAO,CAACO,QAAR,CAAiB;MAC/BL,KAAK,EAAGW,WAAD,KAAkB;QACvBV,GAAG,EAAG,kBAAiBU,WAAY,EADZ;QAEvBH,MAAM,EAAE,QAFe;QAGvBN,WAAW,EAAE;MAHU,CAAlB,CADwB;MAM/BO,eAAe,EAAE,CAAC,UAAD;IANc,CAAjB,CA1BO;IAkCvBI,cAAc,EAAEf,OAAO,CAACO,QAAR,CAAiB;MAC/BL,KAAK,EAAGM,IAAD,KAAW;QAChBL,GAAG,EAAG,kBAAiBK,IAAI,CAACK,WAAY,EADxB;QAEhBJ,IAAI,EAAED,IAFU;QAGhBE,MAAM,EAAE,KAHQ;QAIhBN,WAAW,EAAE;MAJG,CAAX,CADwB;MAO/BO,eAAe,EAAE,CAAC,UAAD;IAPc,CAAjB,CAlCO;IA2CvBK,UAAU,EAAEhB,OAAO,CAACO,QAAR,CAAiB;MAC3BL,KAAK,EAAGM,IAAD,KAAW;QAChBL,GAAG,EAAG,kBAAiBK,IAAI,CAACK,WAAY,UAASL,IAAI,CAACS,OAAQ,EAD9C;QAEhBR,IAAI,EAAED,IAAI,CAACS,OAFK;QAGhBP,MAAM,EAAE,QAHQ;QAIhBN,WAAW,EAAE;MAJG,CAAX,CADoB;MAO3BO,eAAe,EAAE,CAAC,OAAD;IAPU,CAAjB,CA3CW;IAoDvBO,qBAAqB,EAAElB,OAAO,CAACE,KAAR,CAAc;MACnCA,KAAK,EAAGW,WAAD,KAAkB;QACvBV,GAAG,EAAG,kBAAiBU,WAAY,QADZ;QAEvBT,WAAW,EAAE;MAFU,CAAlB,CAD4B;MAKnCC,YAAY,EAAE,CAAC,OAAD;IALqB,CAAd,CApDA;IA2DvBc,oBAAoB,EAAEnB,OAAO,CAACO,QAAR,CAAiB;MACrCL,KAAK,EAAGM,IAAD,KAAW;QAChBL,GAAG,EAAG,kBAAiBK,IAAI,CAACK,WAAY,QADxB;QAEhBJ,IAAI,EAAED,IAFU;QAGhBE,MAAM,EAAE,MAHQ;QAIhBN,WAAW,EAAE;MAJG,CAAX,CAD8B;MAOrCO,eAAe,EAAE,CAAC,UAAD;IAPoB,CAAjB,CA3DC;IAoEvBS,aAAa,EAAEpB,OAAO,CAACE,KAAR,CAAc;MAC3BA,KAAK,EAAGmB,MAAD,KAAa;QAClBlB,GAAG,EAAG,cADY;QAElBmB,MAAM,EAAED,MAFU;QAGlBX,MAAM,EAAE;MAHU,CAAb;IADoB,CAAd,CApEQ;IA2EvBa,kBAAkB,EAAEvB,OAAO,CAACE,KAAR,CAAc;MAChCA,KAAK,EAAGM,IAAD,KAAW;QAChBL,GAAG,EAAG,qBADU;QAEhBM,IAAI,EAAED,IAFU;QAGhBE,MAAM,EAAE;MAHQ,CAAX;IADyB,CAAd,CA3EG;IAkFvBc,WAAW,EAAExB,OAAO,CAACE,KAAR,CAAc;MACzBA,KAAK,EAAE,MAAO;IADW,CAAd,CAlFU;IAqFvBuB,gBAAgB,EAAEzB,OAAO,CAACE,KAAR,CAAc;MAC9BA,KAAK,EAAGM,IAAD,KAAW;QAChBL,GAAG,EAAG,wBAAuBK,IAAI,CAACkB,EAAG,EADrB;QAEhBJ,MAAM,EAAEd,IAFQ;QAGhBE,MAAM,EAAE;MAHQ,CAAX;IADuB,CAAd,CArFK;IA4FvBiB,eAAe,EAAE3B,OAAO,CAACE,KAAR,CAAc;MAC7BA,KAAK,EAAGM,IAAD,KAAW;QAChBL,GAAG,EAAG,uBAAsBK,IAAI,CAACkB,EAAG,EADpB;QAEhBjB,IAAI,EAAED,IAFU;QAGhBE,MAAM,EAAE;MAHQ,CAAX;IADsB,CAAd,CA5FM;IAmGvBkB,eAAe,EAAE5B,OAAO,CAACE,KAAR,CAAc;MAC7BA,KAAK,EAAGM,IAAD,KAAW;QAChBL,GAAG,EAAG,uBAAsBK,IAAI,CAACkB,EAAG,EADpB;QAEhBjB,IAAI,EAAED,IAFU;QAGhBE,MAAM,EAAE;MAHQ,CAAX;IADsB,CAAd,CAnGM;IA0GvBmB,yBAAyB,EAAE7B,OAAO,CAACE,KAAR,CAAc;MACvCA,KAAK,EAAGM,IAAD,KAAW;QAChBL,GAAG,EAAG,+BADU;QAEhBM,IAAI,EAAED,IAFU;QAGhBE,MAAM,EAAE;MAHQ,CAAX;IADgC,CAAd,CA1GJ;IAiHvBoB,gBAAgB,EAAE9B,OAAO,CAACE,KAAR,CAAc;MAC9BA,KAAK,EAAE,MAAO;IADgB,CAAd,CAjHK;IAoHvB6B,sBAAsB,EAAE/B,OAAO,CAACE,KAAR,CAAc;MACpCA,KAAK,EAAE,MAAO;IADsB,CAAd,CApHD;IAuHvB8B,QAAQ,EAAEhC,OAAO,CAACE,KAAR,CAAc;MACtBA,KAAK,EAAE,OAAO;QACZC,GAAG,EAAG,QADM;QAEZC,WAAW,EAAE;MAFD,CAAP,CADe;MAKtB6B,iBAAiB,EAAGC,QAAD,IAAc,CAAAA,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEC,OAAV,KAAqB,IALhC;MAMtB9B,YAAY,EAAE,CAAC,SAAD;IANQ,CAAd,CAvHa;IA+HvB+B,MAAM,EAAEpC,OAAO,CAACO,QAAR,CAAiB;MACvBL,KAAK,EAAE,OAAO;QACZC,GAAG,EAAG,QADM;QAEZO,MAAM,EAAE,QAFI;QAGZN,WAAW,EAAE;MAHD,CAAP,CADgB;MAMvBO,eAAe,EAAE,CAAC,SAAD;IANM,CAAjB,CA/He;IAuIvB0B,KAAK,EAAErC,OAAO,CAACO,QAAR,CAAiB;MACtBL,KAAK,EAAGoC,IAAD,IAAU;QACf,MAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;QACAD,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA4BH,IAAI,CAACI,QAAjC;QACAH,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA4BH,IAAI,CAACK,QAAjC;QACA,OAAO;UACLxC,GAAG,EAAE,QADA;UAELO,MAAM,EAAE,MAFH;UAGLD,IAAI,EAAE8B,QAHD;UAILnC,WAAW,EAAE;QAJR,CAAP;MAMD,CAXqB;MAYtBO,eAAe,EAAE,CAAC,SAAD;IAZK,CAAjB,CAvIgB;IAqJvBiC,MAAM,EAAE5C,OAAO,CAACO,QAAR,CAAiB;MACvBL,KAAK,EAAGM,IAAD,KAAW;QAChBL,GAAG,EAAG,eADU;QAEhBM,IAAI,EAAED,IAFU;QAGhBE,MAAM,EAAE,MAHQ;QAIhBN,WAAW,EAAE;MAJG,CAAX,CADgB;MAOvBO,eAAe,EAAE,CAAC,SAAD;IAPM,CAAjB;EArJe,CAAd;AANuB,CAAD,CAA5B;AAuKP,OAAO,MAAM;EACXkC,gBADW;EAEXC,iBAFW;EAGXC,gBAHW;EAIXC,iBAJW;EAKXC,sBALW;EAMXC,yBANW;EAOXC,2BAPW;EAQXC,yBARW;EASXC,yBATW;EAUXC,qBAVW;EAWXC,6BAXW;EAYXC,+BAZW;EAaXC,qBAbW;EAcXC,0BAdW;EAeXC,mBAfW;EAgBXC,wBAhBW;EAiBXC,uBAjBW;EAkBXC,uBAlBW;EAmBXC,iCAnBW;EAoBXC,wBApBW;EAqBXC;AArBW,IAsBT1E,UAtBG"},"metadata":{},"sourceType":"module"}