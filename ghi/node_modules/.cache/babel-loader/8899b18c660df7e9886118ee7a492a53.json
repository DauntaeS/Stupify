{"ast":null,"code":"import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\nexport const stupifyApi = createApi({\n  reducerPath: \"playlistApi\",\n  baseQuery: fetchBaseQuery({\n    baseUrl: process.env.REACT_APP_API_HOST\n  }),\n  tagTypes: [\"playlist\", \"songs\"],\n  endpoints: builder => ({\n    getAllPlaylist: builder.query({\n      query: () => ({\n        url: \"/api/playlists\",\n        credentials: \"include\"\n      }),\n      providesTags: [\"playlist\"] //Optional - transformResponse: (response) => response.playlists ... removes the playlists property from the data in so in the\n      // PlaylistList you can just do data.filter\n\n    }),\n    createPlaylist: builder.mutation({\n      query: data => ({\n        url: \"/api/playlists/\",\n        body: data,\n        method: \"POST\",\n        credentials: \"include\"\n      }),\n      invalidatesTags: [\"playlist\"]\n    }),\n    getSpecificPlaylist: builder.query({\n      query: playlist_id => ({\n        url: `/api/playlists/${playlist_id}`,\n        credentials: \"include\"\n      }),\n      providesTags: [\"playlist\"]\n    }),\n    deletePlaylist: builder.mutation({\n      query: playlist_id => ({\n        url: `/api/playlists/${playlist_id}`,\n        method: \"delete\",\n        credentials: \"include\"\n      }),\n      invalidatesTags: [\"playlist\"]\n    }),\n    updatePlaylist: builder.mutation({\n      query: _ref => {\n        let {\n          id,\n          data\n        } = _ref;\n        return {\n          url: `/api/playlists/${id}`,\n          body: data,\n          method: \"PUT\",\n          credentials: \"include\"\n        };\n      },\n      invalidatesTags: [\"playlist\"]\n    }),\n    deleteSong: builder.mutation({\n      query: _ref2 => {\n        let {\n          sId,\n          pId\n        } = _ref2;\n        return {\n          url: `/api/playlists/${pId}/songs/${sId}`,\n          method: \"delete\",\n          credentials: \"include\"\n        };\n      },\n      invalidatesTags: [\"songs\"]\n    }),\n    getAllSongsInPlaylist: builder.query({\n      query: playlist_id => ({\n        url: `/api/playlists/${playlist_id}/songs`,\n        credentials: \"include\"\n      }),\n      providesTags: [\"songs\"]\n    }),\n    createSongInPlaylist: builder.mutation({\n      query: data => ({\n        url: `/api/playlists/${data.playlist_id}/songs`,\n        body: data,\n        method: \"POST\",\n        credentials: \"include\"\n      }),\n      invalidatesTags: [\"songs\", \"playlist\"]\n    }),\n    searchSpotify: builder.query({\n      query: search => ({\n        url: `/api/spotify`,\n        params: search,\n        method: \"GET\"\n      })\n    }),\n    searchSpotifyGenre: builder.query({\n      query: data => ({\n        url: `/api/spotify/genres`,\n        params: data,\n        method: \"GET\"\n      })\n    }),\n    getAllGenre: builder.query({\n      query: () => `/api/spotify/allgenres`\n    }),\n    getSpotifyArtist: builder.query({\n      query: id => ({\n        url: `/api/spotify/artists/${id}`,\n        method: \"GET\"\n      })\n    }),\n    getSpotifyAlbum: builder.query({\n      query: data => ({\n        url: `/api/spotify/albums/${data}`,\n        method: \"GET\"\n      })\n    }),\n    getSpotifyTrack: builder.query({\n      query: data => ({\n        url: `/api/spotify/tracks/${data}`,\n        method: \"GET\"\n      })\n    }),\n    getSpotifyRecommendations: builder.query({\n      query: data => ({\n        url: `/api/spotify/recommendations/`,\n        params: data,\n        method: \"GET\"\n      })\n    }),\n    getSpotifyRandom: builder.query({\n      query: () => `/api/spotify/random`\n    }),\n    getSpotifyRandomArtist: builder.query({\n      query: () => `/api/spotify/randomartists`\n    }),\n    getToken: builder.query({\n      query: () => ({\n        url: `/token`,\n        credentials: \"include\"\n      }),\n      transformResponse: response => (response === null || response === void 0 ? void 0 : response.account) || null,\n      providesTags: [\"Account\"]\n    }),\n    logout: builder.mutation({\n      query: () => ({\n        url: `/token`,\n        method: \"DELETE\",\n        credentials: \"include\"\n      }),\n      invalidatesTags: [\"Account\"]\n    }),\n    login: builder.mutation({\n      query: info => {\n        const formData = new FormData();\n        formData.append(\"username\", info.username);\n        formData.append(\"password\", info.password);\n        return {\n          url: \"/token\",\n          method: \"POST\",\n          body: formData,\n          credentials: \"include\"\n        };\n      },\n      invalidatesTags: [\"Account\"]\n    }),\n    signup: builder.mutation({\n      query: data => ({\n        url: `/api/accounts`,\n        body: data,\n        method: \"POST\",\n        credentials: \"include\"\n      }),\n      invalidatesTags: [\"Account\"]\n    })\n  })\n});\nexport const {\n  useGetTokenQuery,\n  useSignupMutation,\n  useLoginMutation,\n  useLogoutMutation,\n  useGetAllPlaylistQuery,\n  useCreatePlaylistMutation,\n  useGetSpecificPlaylistQuery,\n  useDeletePlaylistMutation,\n  useUpdatePlaylistMutation,\n  useDeleteSongMutation,\n  useGetAllSongsInPlaylistQuery,\n  useCreateSongInPlaylistMutation,\n  useSearchSpotifyQuery,\n  useSearchSpotifyGenreQuery,\n  useGetAllGenreQuery,\n  useGetSpotifyArtistQuery,\n  useGetSpotifyAlbumQuery,\n  useGetSpotifyTrackQuery,\n  useLazyGetSpotifyRecommendationsQuery,\n  useGetSpotifyRandomQuery,\n  useGetSpotifyRandomArtistQuery\n} = stupifyApi;","map":{"version":3,"names":["createApi","fetchBaseQuery","stupifyApi","reducerPath","baseQuery","baseUrl","process","env","REACT_APP_API_HOST","tagTypes","endpoints","builder","getAllPlaylist","query","url","credentials","providesTags","createPlaylist","mutation","data","body","method","invalidatesTags","getSpecificPlaylist","playlist_id","deletePlaylist","updatePlaylist","id","deleteSong","sId","pId","getAllSongsInPlaylist","createSongInPlaylist","searchSpotify","search","params","searchSpotifyGenre","getAllGenre","getSpotifyArtist","getSpotifyAlbum","getSpotifyTrack","getSpotifyRecommendations","getSpotifyRandom","getSpotifyRandomArtist","getToken","transformResponse","response","account","logout","login","info","formData","FormData","append","username","password","signup","useGetTokenQuery","useSignupMutation","useLoginMutation","useLogoutMutation","useGetAllPlaylistQuery","useCreatePlaylistMutation","useGetSpecificPlaylistQuery","useDeletePlaylistMutation","useUpdatePlaylistMutation","useDeleteSongMutation","useGetAllSongsInPlaylistQuery","useCreateSongInPlaylistMutation","useSearchSpotifyQuery","useSearchSpotifyGenreQuery","useGetAllGenreQuery","useGetSpotifyArtistQuery","useGetSpotifyAlbumQuery","useGetSpotifyTrackQuery","useLazyGetSpotifyRecommendationsQuery","useGetSpotifyRandomQuery","useGetSpotifyRandomArtistQuery"],"sources":["/app/src/app/apiSlice.js"],"sourcesContent":["import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\n\nexport const stupifyApi = createApi({\n  reducerPath: \"playlistApi\",\n  baseQuery: fetchBaseQuery({\n    baseUrl: process.env.REACT_APP_API_HOST,\n  }),\n  tagTypes: [\"playlist\", \"songs\"],\n  endpoints: (builder) => ({\n    getAllPlaylist: builder.query({\n      query: () => ({\n        url: \"/api/playlists\",\n        credentials: \"include\",\n      }),\n      providesTags: [\"playlist\"],\n      //Optional - transformResponse: (response) => response.playlists ... removes the playlists property from the data in so in the\n      // PlaylistList you can just do data.filter\n    }),\n    createPlaylist: builder.mutation({\n      query: (data) => ({\n        url: \"/api/playlists/\",\n        body: data,\n        method: \"POST\",\n        credentials: \"include\",\n      }),\n      invalidatesTags: [\"playlist\"],\n    }),\n    getSpecificPlaylist: builder.query({\n      query: (playlist_id) => ({\n        url: `/api/playlists/${playlist_id}`,\n        credentials: \"include\",\n      }),\n      providesTags: [\"playlist\"],\n    }),\n    deletePlaylist: builder.mutation({\n      query: (playlist_id) => ({\n        url: `/api/playlists/${playlist_id}`,\n        method: \"delete\",\n        credentials: \"include\",\n      }),\n      invalidatesTags: [\"playlist\"],\n    }),\n    updatePlaylist: builder.mutation({\n      query: ({ id, data }) => ({\n        url: `/api/playlists/${id}`,\n        body: data,\n        method: \"PUT\",\n        credentials: \"include\",\n      }),\n      invalidatesTags: [\"playlist\"],\n    }),\n    deleteSong: builder.mutation({\n      query: ({sId, pId}) => ({\n        url: `/api/playlists/${pId}/songs/${sId}`,\n        method: \"delete\",\n        credentials: \"include\",\n      }),\n      invalidatesTags: [\"songs\"],\n    }),\n    getAllSongsInPlaylist: builder.query({\n      query: (playlist_id) => ({\n        url: `/api/playlists/${playlist_id}/songs`,\n        credentials: \"include\",\n      }),\n      providesTags: [\"songs\"],\n    }),\n    createSongInPlaylist: builder.mutation({\n      query: (data) => ({\n        url: `/api/playlists/${data.playlist_id}/songs`,\n        body: data,\n        method: \"POST\",\n        credentials: \"include\",\n      }),\n      invalidatesTags: [\"songs\", \"playlist\"],\n    }),\n    searchSpotify: builder.query({\n      query: (search) => ({\n        url: `/api/spotify`,\n        params: search,\n        method: \"GET\",\n      }),\n    }),\n    searchSpotifyGenre: builder.query({\n      query: (data) => ({\n        url: `/api/spotify/genres`,\n        params: data,\n        method: \"GET\",\n      }),\n    }),\n    getAllGenre: builder.query({\n      query: () => `/api/spotify/allgenres`,\n    }),\n    getSpotifyArtist: builder.query({\n      query: (id) => ({\n        url: `/api/spotify/artists/${id}`,\n        method: \"GET\",\n      }),\n    }),\n    getSpotifyAlbum: builder.query({\n      query: (data) => ({\n        url: `/api/spotify/albums/${data}`,\n        method: \"GET\",\n      }),\n    }),\n    getSpotifyTrack: builder.query({\n      query: (data) => ({\n        url: `/api/spotify/tracks/${data}`,\n        method: \"GET\",\n      }),\n    }),\n    getSpotifyRecommendations: builder.query({\n      query: (data) => ({\n        url: `/api/spotify/recommendations/`,\n        params: data,\n        method: \"GET\",\n      }),\n    }),\n    getSpotifyRandom: builder.query({\n      query: () => `/api/spotify/random`,\n    }),\n    getSpotifyRandomArtist: builder.query({\n      query: () => `/api/spotify/randomartists`,\n    }),\n    getToken: builder.query({\n      query: () => ({\n        url: `/token`,\n        credentials: \"include\",\n      }),\n      transformResponse: (response) => response?.account || null,\n      providesTags: [\"Account\"],\n    }),\n    logout: builder.mutation({\n      query: () => ({\n        url: `/token`,\n        method: \"DELETE\",\n        credentials: \"include\",\n      }),\n      invalidatesTags: [\"Account\"],\n    }),\n    login: builder.mutation({\n      query: (info) => {\n        const formData = new FormData();\n        formData.append(\"username\", info.username);\n        formData.append(\"password\", info.password);\n        return {\n          url: \"/token\",\n          method: \"POST\",\n          body: formData,\n          credentials: \"include\",\n        };\n      },\n      invalidatesTags: [\"Account\"],\n    }),\n    signup: builder.mutation({\n      query: (data) => ({\n        url: `/api/accounts`,\n        body: data,\n        method: \"POST\",\n        credentials: \"include\",\n      }),\n      invalidatesTags: [\"Account\"],\n    }),\n  }),\n});\n\nexport const {\n  useGetTokenQuery,\n  useSignupMutation,\n  useLoginMutation,\n  useLogoutMutation,\n  useGetAllPlaylistQuery,\n  useCreatePlaylistMutation,\n  useGetSpecificPlaylistQuery,\n  useDeletePlaylistMutation,\n  useUpdatePlaylistMutation,\n  useDeleteSongMutation,\n  useGetAllSongsInPlaylistQuery,\n  useCreateSongInPlaylistMutation,\n  useSearchSpotifyQuery,\n  useSearchSpotifyGenreQuery,\n  useGetAllGenreQuery,\n  useGetSpotifyArtistQuery,\n  useGetSpotifyAlbumQuery,\n  useGetSpotifyTrackQuery,\n  useLazyGetSpotifyRecommendationsQuery,\n  useGetSpotifyRandomQuery,\n  useGetSpotifyRandomArtistQuery,\n} = stupifyApi;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}